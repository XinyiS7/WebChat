<!DOCTYPE html><html>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <style>        /* 切换开关样式 */        .switch {            position: relative;            display: inline-block;            width: 60px;            height: 34px;        }        .switch input {            opacity: 0;            width: 0;            height: 0;        }        .slider {            position: absolute;            cursor: pointer;            top: 0;            left: 0;            right: 0;            bottom: 0;            background-color: #ccc;            transition: .4s;            border-radius: 34px;        }        .slider:before {            position: absolute;            content: "";            height: 26px;            width: 26px;            left: 4px;            bottom: 4px;            background-color: white;            transition: .4s;            border-radius: 50%;        }        input:checked + .slider {            background-color: #2196F3;        }        input:checked + .slider:before {            transform: translateX(26px);        }        /* 标签样式 */        .mode-label {            margin-left: 10px;            font-family: Arial, sans-serif;            font-size: 16px;        }        .mode-container {            display: flex;            align-items: center;            margin-bottom: 15px;        }    </style><head>   <title>文本处理</title></head><body>   <h1>提交文本进行处理</h1>    <form action="{% url 'process_text_mdview_swt' %}" method="post">        {% csrf_token %}        <!-- 必须要有这个隐藏字段来传递 mode 值 -->        <input type="hidden" id="selectedMode" name="mode" value="chat">        <div class="mode-container">            <label class="switch">                <input type="checkbox" id="modeSwitch">                <span class="slider"></span>            </label>            <span class="mode-label">当前模式: <span id="modeText">chat</span></span>        </div>        <textarea name="input_text" rows="5" cols="40"></textarea><br>        <button type="submit">提交处理</button>    </form></body></html><script>    // 监听开关变化，更新隐藏字段和显示文本    document.getElementById('modeSwitch').addEventListener('change', function() {        const modeText = document.getElementById('modeText');        const selectedMode = document.getElementById('selectedMode');        if (this.checked) {            modeText.textContent = 'coder';            selectedMode.value = 'coder';        } else {            modeText.textContent = 'chat';            selectedMode.value = 'chat';        }        console.log('当前 mode 值:', selectedMode.value); // 调试用    });</script>